# ShareAndTaklif

## 🔹 توضیحات پروژه

این پروژه شامل یک **اسکریپت پاورشل** به نام `ShareAndTaklif.ps1` است که به صورت خودکار پوشه‌ها را روی ویندوز ایجاد و به اشتراک می‌گذارد و دسترسی‌ها را به صورت امن و سازمان‌یافته تنظیم می‌کند.

ویژگی اصلی این اسکریپت این است که:

1. یک **پوشه عمومی SHARE** ایجاد می‌کند که Everyone فقط دسترسی **خواندن (Read)** دارد.  
2. یک **پوشه TAKLIF** ایجاد می‌کند و برای هر کاربر محلی (`pc01`, `pc02`, …) یک زیرپوشه می‌سازد که فقط همان کاربر دسترسی **خواندن و نوشتن (Read/Write)** دارد.  
3. مجوزهای **NTFS و شبکه** به صورت تمیز و امن اعمال می‌شوند.  
4. اشتراک‌های قدیمی در صورت وجود حذف می‌شوند تا تضاد پیش نیاید.  

این اسکریپت مناسب محیط‌های مدرسه، اداره یا شبکه‌های کوچک است که نیاز به پوشه‌های عمومی و کاربری امن دارند.

---

## 🔹 پیش‌نیازها

- ویندوز ۱۰ یا ۱۱ (Pro یا Enterprise توصیه می‌شود)  
- اجرای PowerShell با **Run as Administrator**  
- سرویس SMB فعال باشد (`LanmanServer`)  

---

## 🔹 کارهایی که اسکریپت انجام می‌دهد

1. بررسی و ایجاد پوشه `D:\SHARE` در صورت نبود  
2. حذف اشتراک قدیمی SHARE (در صورت وجود)  
3. ایجاد **Advanced Share** برای پوشه SHARE با Everyone فقط **خواندن**  
4. اعمال **NTFS Permissions** برای Everyone → فقط Read  
5. بررسی و ایجاد پوشه `D:\TAKLIF` در صورت نبود  
6. بررسی تمام کاربران محلی با نام‌های `pc01…pc08`  
7. ایجاد یک زیرپوشه برای هر کاربر داخل TAKLIF (اگر موجود نبود)  
8. حذف اشتراک قدیمی هر پوشه کاربری  
9. ایجاد **Advanced Share** برای هر پوشه کاربری → فقط همان کاربر + Administrators  
10. اعمال **NTFS Permissions** برای هر پوشه کاربری → فقط همان کاربر  
11. نمایش پیام‌های وضعیت در PowerShell به صورت فینگلیش  

---

## 🔹 ساختار پوشه‌ها پس از اجرا

```text
D:\
├── SHARE         # Everyone → Read only
└── TAKLIF
    ├── pc01      # فقط pc01 → Read/Write
    ├── pc02      # فقط pc02 → Read/Write
    └── ...       # سایر کاربران pc03 … pc08
